# JDStore Company Feature

This feature provides full CRUD (Create, Read, Update, Delete) operations for managing companies in the JDStore application.

## Components

### 1. API Layer (`api/index.js`)
- `fetchCompanies(params)`: Fetches a list of companies with optional filtering and pagination
- `fetchCompany(id)`: Fetches a single company by ID
- `createCompany(data)`: Creates a new company
- `updateCompany(id, data)`: Updates an existing company
- `deleteCompany(id)`: Deletes a company

### 2. Store (`store/index.js`)
- Manages the state for companies using Pinia
- Provides actions for all CRUD operations
- Maintains lists of companies and current company details

### 3. Services (`services/companyService.js`)
- Encapsulates all Frappe API calls
- Provides error handling and response formatting
- Handles data transformation (e.g., JSON parsing for company profiles)

### 4. Components
- `CompaniesList.vue`: Displays a table of all companies with actions to edit/delete
- `CompanyDetail.vue`: Shows detailed information for a single company
- `CompanyForm.vue`: Form for creating and editing companies

Note: The components use standard HTML labels instead of a specific Label component from frappe-ui.

### 5. Routes (`routes/index.js`)
- `/companies`: List view of all companies
- `/companies/:id`: Detail view for a specific company
- `/companies/new`: Form to create a new company
- `/companies/:id/edit`: Form to edit an existing company

## Usage

### In Components
```javascript
import { useCompanyStore } from '@/features/company/store'

const companyStore = useCompanyStore()

// Load all companies
await companyStore.loadCompanies()

// Create a new company
await companyStore.createCompany({
  company_name: 'Example Corp',
  status: 'Active',
  company_profile_json: '{"industry": "Technology", "size": "Large"}'
})

// Update a company
await companyStore.updateCompany('COMP001', {
  status: 'Inactive'
})

// Delete a company
await companyStore.deleteCompany('COMP001')
```

## Data Model

The company feature is based on the `JDStore Company` doctype with the following fields:
- `name`: Unique identifier (auto-generated by Frappe)
- `company_name`: Company name (required)
- `status`: Current status of the company
- `company_profile`: JSON field containing detailed company information

## Features

- Full CRUD operations
- Loading and error states management
- Form validation
- Responsive UI components
- Proper error handling
- JSON support for company profiles